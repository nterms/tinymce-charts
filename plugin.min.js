tinymce.PluginManager.add("charts",function(editor,url){editor.addButton("charts",{text:"Charts",icon:"line-chart",onclick:function(){showModal(url)}});editor.addMenuItem("charts",{text:"Charts",context:"tools",onclick:function(){editor.windowManager.open({title:"TinyMCE site",url:"http://www.tinymce.com",width:800,height:600,buttons:[{text:"Close",onclick:"close"}]})}});var showModal=function(url){editor.windowManager.open({title:"charts plugin",body:[{type:"textbox",name:"title",label:"Title"}],onsubmit:function(e){editor.insertContent("Title: "+e.data.title)}})}});